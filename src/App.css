/* src/App.css */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

/* --- Theme Variables (Using previous dark blue-green-grey) --- */
:root {
  --page-bg: #263238; /* Dark Blue Grey */
  --container-bg: #37474f; /* Lighter Blue Grey */
  --header-bg: var(--container-bg);
  --messages-bg: var(--container-bg);
  --input-bg: var(--container-bg); /* Match container */
  --border-color: #546e7a; /* Medium Blue Grey */
  --text-primary: #eceff1; /* Very Light Blue Grey (off-white) */
  --text-secondary: #b0bec5; /* Lighter Blue Grey */
  --user-bubble-bg: #00796b; /* Dark Teal */
  --bot-bubble-bg: #455a64; /* Darker Blue Grey (contrast w/ container) */
  --button-primary-bg: var(--user-bubble-bg); /* Dark Teal */
  --button-primary-hover-bg: #00897b; /* Brighter Teal */
  --button-secondary-bg: #546e7a; /* Medium Blue Grey */
  --button-secondary-hover-bg: #78909c; /* Lighter Blue Grey */
  --button-disabled-bg: #455a64; /* Same as bot bubble */
  --button-disabled-text: #90a4ae;
  --suggestion-text: #b2dfdb; /* Light Teal */
  --suggestion-bg: var(--button-secondary-bg);
  --suggestion-border: #78909c;
  --suggestion-hover-bg: var(--button-secondary-hover-bg);
  --shadow-color: rgba(0, 0, 0, 0.25);
  --input-border-color: #546e7a;
  --input-focus-border-color: var(--button-primary-bg);
  --input-focus-shadow: rgba(0, 121, 107, 0.3);
  --image-preview-bg: #455a64;
  --remove-button-bg: #6d4c41;
  --remove-button-hover-bg: #8d6e63;
}


/* Basic Reset & Font */
html, body, #root {
  height: 100%; margin: 0; padding: 0;
  font-family: 'Inter', sans-serif;
  background-color: var(--page-bg);
  overflow: hidden;
  color: var(--text-primary);
}
button, input { font-family: inherit; color: inherit; background-color: transparent; }

/* --- UPDATED: App container for centered layout --- */
.App {
  display: flex;
  flex-direction: column;
  align-items: center; /* Center children horizontally */
  /* justify-content: center; REMOVED vertical centering */
  height: 100vh;
  max-height: 100vh;
  box-sizing: border-box;
  overflow: hidden;
  padding: 0 15px; /* Consistent padding */
}

/* --- UPDATED: Header to match container width --- */
.App-header {
  padding: 14px 20px;
  background-color: var(--header-bg);
  border-bottom: 1px solid var(--border-color);
  text-align: center;
  flex-shrink: 0;
  box-shadow: 0 2px 6px var(--shadow-color);
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  width: 100%;
  max-width: 1000px; /* Match chatbox max-width */
  box-sizing: border-box;
  z-index: 10;
  margin-top: 20px; /* Add space above header */
  border-radius: 8px 8px 0 0; /* Round top corners */
  border-bottom: none; /* Remove bottom border if chat container has top border */

}
.App-header h1 { margin: 0; font-size: 1.2em; font-weight: 600; color: var(--text-primary); }


/* --- UPDATED: Chatbot Container - Wider Centered Box --- */
.chatbot-container {
  flex-grow: 1; /* Allow filling height BELOW header */
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 100%;
  max-width: 1000px; /* Make the box wider */
  margin: 0 auto 20px auto; /* NO top margin, Auto Left/Right, Bottom margin */
  /* border: 1px solid var(--border-color); /* Keep border */
  border-left: 1px solid var(--border-color);
  border-right: 1px solid var(--border-color);
  border-bottom: 1px solid var(--border-color);
  border-radius: 0 0 12px 12px; /* Round bottom corners */
  box-shadow: 0 4px 15px var(--shadow-color); /* Slightly larger shadow */
  background-color: var(--container-bg);
  /* Remove fixed height to allow flex-grow */
  /* height: 75vh; */
  /* max-height: 700px; */
}

.chatbot-messages {
  flex-grow: 1;
  overflow-y: auto;
  padding: 20px 20px; /* Consistent padding */
  /* background-color: var(--messages-bg); /* Handled by container */
  display: flex;
  flex-direction: column;
  gap: 15px;
  font-size: 1rem;
}

/* Message Styling */
.message-wrapper { /* Unchanged */ }
.message-wrapper-user { /* Unchanged */ }
.message-wrapper-bot, .message-wrapper-loading { /* Unchanged */ }

.message {
  padding: 12px 18px;
  /* --- UPDATED: Simpler rounded rectangle --- */
  border-radius: 16px; /* Consistent rounding */
  max-width: 78%;
  word-wrap: break-word; line-height: 1.6;
  box-shadow: 0 1px 2px var(--shadow-color);
}
.message p { margin: 0 0 0.6em 0; }
.message p:last-child { margin-bottom: 0; }
.message ul, .message ol { margin: 0.6em 0; padding-left: 25px; }
.message li { margin-bottom: 0.3em; }

.message.user {
  background-color: var(--user-bubble-bg); color: white; align-self: flex-end;
  /* border-bottom-right-radius: 6px; /* REMOVED tail */
}
.message.bot, .message.loading {
  background-color: var(--bot-bubble-bg); color: var(--text-primary); align-self: flex-start;
  /* border-bottom-left-radius: 6px; /* REMOVED tail */
}
.message.loading i { font-style: normal; color: var(--text-secondary); }

/* Input Area Styling */
.chatbot-input-area {
  display: flex; align-items: center; padding: 12px 15px;
  border-top: 1px solid var(--border-color);
  background-color: var(--input-bg); /* Use container background */
  flex-shrink: 0; gap: 10px;
}
.chatbot-input-area input[type="text"] {
  flex-grow: 1; padding: 12px 18px;
  border: 1px solid var(--input-border-color);
  border-radius: 12px; /* Match bubble rounding */
  font-size: 1rem; outline: none;
  background-color: var(--page-bg); /* Use page bg for input */
  color: var(--text-primary);
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.3); /* Darker inset */
}
.chatbot-input-area input[type="text"]::placeholder { color: var(--text-secondary); opacity: 0.7; }
.chatbot-input-area input[type="text"]:focus { border-color: var(--input-focus-border-color); box-shadow: inset 0 1px 2px rgba(0,0,0,0.3), 0 0 0 2px var(--input-focus-shadow); }

/* Button base style */
.chatbot-input-area button {
  padding: 10px; width: 42px; height: 42px; border: none;
  border-radius: 12px; /* Match bubble rounding */
  cursor: pointer; font-size: 1.3em; font-weight: 500; transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  display: flex; align-items: center; justify-content: center; line-height: 1; flex-shrink: 0;
}
/* ... (Rest of button styles unchanged) ... */
.chatbot-input-area button[title="Send"] { background-color: var(--button-primary-bg); color: white; }
.chatbot-input-area button[title="Send"]:hover { background-color: var(--button-primary-hover-bg); }
.chatbot-input-area button[title="Send"]:disabled { background-color: var(--button-disabled-bg); color: var(--button-disabled-text); cursor: default; }
.upload-button { background-color: var(--button-secondary-bg); color: var(--text-secondary); border: none !important; margin-right: 0; }
.upload-button:hover { background-color: var(--button-secondary-hover-bg) !important; border-color: #777777 !important; }
.upload-button:disabled { background-color: var(--button-disabled-bg) !important; color: var(--button-disabled-text) !important; border: none !important; cursor: default; }


/* Image Preview Styles (Unchanged) */
/* Clear Chat Button Styles (Adjusted position/rounding slightly) */
.clear-chat-button { position: absolute; right: 15px; padding: 8px; width: 34px; height: 34px; font-size: 1.1em; background-color: var(--button-secondary-bg); color: var(--text-secondary); border: none; border-radius: 8px; /* Match other buttons */ cursor: pointer; transition: background-color 0.2s ease, border-color 0.2s ease; display: flex; align-items: center; justify-content: center; line-height: 1; }
.clear-chat-button:hover { background-color: var(--button-secondary-hover-bg); }

/* Suggestion Button Styles (Adjusted rounding) */
.suggestions-container { /* Unchanged */ }
.suggestion-button { padding: 6px 14px; border: 1px solid var(--suggestion-border); background-color: var(--suggestion-bg); color: var(--suggestion-text); border-radius: 16px; /* Keep rounded */ cursor: pointer; font-size: 0.9em; transition: background-color 0.2s ease; white-space: nowrap; }
.suggestion-button:hover:not(:disabled) { background-color: var(--suggestion-hover-bg); border-color: #a0a0bd; }
.suggestion-button:disabled { color: var(--button-disabled-text); border-color: var(--input-border-color); cursor: default; background-color: var(--suggestion-bg); }

/* --- Responsive Styles --- */
@media (max-width: 1000px) { /* Apply when screen is narrower than chatbox max-width */

  .App { padding: 0; } /* Remove padding on mobile */
  .App-header { max-width: 100%; margin-top: 0; border-radius: 0; padding: 12px 10px; border-bottom: 1px solid var(--border-color); } /* Adjust header for mobile */
  .App-header h1 { font-size: 1.1em; }

  /* Make chatbot container edge-to-edge */
  .chatbot-container {
      width: 100%; max-width: 100%; margin: 0; /* Remove margins */
      border: none; border-radius: 0; box-shadow: none;
      height: auto; /* Allow height determined by flex */
      flex-grow: 1; /* Let it grow */
      max-height: none;
  }

  /* Keep other mobile styles */
  .chatbot-messages { padding: 15px 10px; gap: 10px; font-size: 0.95rem; }
  .chatbot-input-area { padding: 10px 10px; gap: 5px; }
  .message { max-width: 85%; border-radius: 14px;} /* Slightly less round on mobile */
  .chatbot-input-area input[type="text"] { padding: 10px 15px; font-size: 0.95rem; border-radius: 16px; }
  .chatbot-input-area button { width: 40px; height: 40px; font-size: 1.1em; border-radius: 8px; }
  .clear-chat-button { right: 10px; width: 32px; height: 32px; font-size: 1em; border-radius: 6px; }
  .image-preview-area { padding: 5px 10px; }
  .upload-button { font-size: 1.2em;}
  .suggestions-container { max-width: 100%; gap: 6px; }
  .suggestion-button { padding: 5px 10px; font-size: 0.85em; }
}